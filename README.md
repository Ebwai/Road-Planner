# Road-Planner
Road Planner classified
- 生成迷宫：
	- 基于广度优先的算法：可以保证起点和终点之间存在通路连线【树状单行路】
	- 手动连接+基于深度的算法：保证起终点有连线，且不止单行路
		1. 迷宫的大小是15\*15（长宽作为参数输送给函数），用0表示通路，用1表示墙，输入起点和终点作为参数 
		2. 迷宫首先初始化为01交错的矩阵，然后将最外侧一层设为墙 
		3. 先用深度优先算法找到一条起点到终点的，记得给路径上的点加上标记，代表该点属于路径 
		4. 然后矩阵除最外侧以及不属于路径的其余地方随机将1换成0或将0换成1
- 确定搜索算法
	- A\*算法：
		- 优点：
			- 高效性：A算法通过启发式搜索策略，可以快速找到最优路径，特别适合**静态**环境中的路径规划。
			-  路径质量：生成的路径通常较短且平滑，适合移动机器人应用。
			- 特别适合在**二维栅格地图上**寻找最短路径
		- 缺点：
			- 内存消耗大：A需要存储大量节点信息，对内存要求较高。
			- **对启发式函数依赖性强**：启发式函数设计不当会影响搜索效率和路径质量。
		- 原理：**实际移动代价**和**预计代价**来评估节点
			- 算法的核心在于**代价函数**的定义，该函数用于评估从起点到目标点的总代价。
			- ![[Pasted image 20241114161753.png|400]]
			- **代价函数**中H(n) 直接影响到算法的效率和路径质量
				- 常见的启发式方法包括：
					- **曼哈顿距离**：适用于只能水平或垂直移动的情况，计算方式为两个点坐标差值的绝对值之和。
					- **欧几里得距离**：适用于可以斜向移动的情况，通过计算两点之间的直线距离来估计。
		- 具体实现：
			- Node类的定义:定义了搜索过程中的每个节点,记录了位置、代价和父节点信息。
			- 曼哈顿距离计算:计算两点之间的曼哈顿距离(横向距离+纵向距离),用作启发式估计值。
			- 获取相邻节点:查找当前节点四周可以走的格子。
			- 重建路径:从终点往回找父节点,重建完整路径。
			- A\*主函数:初始化搜索所需的数据结构。
			- 主循环:不断取出最有希望的节点进行探索。
			- 处理相邻节点:
				- 对当前节点的每个相邻节点:
				- 计算新的代价
				- 如果已在开放列表中且找到更好路径则更新
				- 否则加入开放列表
			- 可视化:每次探索新节点后更新显示。
		- 升级：不用二维栅格地图，改用路标地图，可以进一步加快A\*搜索的效率
	- RRT算法（快速扩展随机树）：高飞的Ego-Planner就是基于RRT算法
		- 优点：
			- 灵活性强：RRT能够处理高维空间和**动态**障碍物，适合复杂环境中的路径规划。
			- 快速生成路径：能够迅速生成可行路径，不需要完整地图信息
		- 缺点：
			- 路径优化不足：生成的路径通常**不够平滑**，需要后续处理来优化路径质量。
			- 随机性强：由于依赖随机采样，有时可能导致生成不理想的路径，**需要多次运行**以获得更好的结果。
		- 原理：
			- 初始化：创建一棵包含起点的树，并将起点设为树的根节点。
			- 随机采样：在搜索空间中随机生成一个点（称为随机点​）。
			- 寻找最近节点：在树 T 中找到离随机点最近的节点（称为最近节点​）。
			- 扩展树：从最近节点沿着指向随机点的方向扩展一个固定长度的步长，生成一个新的节点（称为新节点​）。检查新节点是否在障碍物内。如果不在，则将新节点添加到树 T 中，并将新节点与最近节点连接。
			- 检查终止条件：如果新节点足够接近目标点，或者达到预设的迭代次数，则终止算法；否则返回随机采样步骤，继续扩展树。
			- 路径生成：从目标点回溯到起点，生成路径。
- 机器人运动模拟：
	- 运动过程表示：
		- 机器人表示：机器人用红色质心表示
		- 机器人搜索过的路径用蓝色表示
	- 机器人变为质点，墙壁膨胀，膨胀为固定数值（大概为机器人一半）
